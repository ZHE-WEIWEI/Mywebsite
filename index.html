<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ¿ä»²èè‹± CRM Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&display=swap');
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #f8fafc; color: #1e293b; -webkit-tap-highlight-color: transparent; }
        .btn-primary { background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%); transition: all 0.3s; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3); }
        .card { background: white; border-radius: 1.25rem; box-shadow: 0 1px 3px rgba(0,0,0,0.05), 0 10px 15px -5px rgba(0,0,0,0.05); border: 1px solid #f1f5f9; transition: all 0.2s; }
        
        .status-select { 
            padding: 4px 12px; 
            border-radius: 999px; 
            font-size: 0.75rem; 
            font-weight: 800; 
            border: none; 
            appearance: none; 
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }
        
        .border-male { border: 2px solid #60a5fa !important; border-left-width: 8px !important; }
        .border-female { border: 2px solid #f472b6 !important; border-left-width: 8px !important; }
        .border-other { border: 2px solid #cbd5e1 !important; border-left-width: 8px !important; }

        .info-pill { background: #f8fafc; border: 1px solid #f1f5f9; padding: 6px 12px; border-radius: 10px; font-size: 12px; font-weight: 700; color: #475569; display: inline-flex; align-items: center; gap: 4px; }
        .area-tag { background: #eff6ff; color: #2563eb; border: 1px solid #dbeafe; padding: 4px 10px; border-radius: 8px; font-size: 11px; font-weight: 800; cursor: pointer; transition: all 0.2s; }
        .area-tag:hover { background: #dbeafe; }
        .note-tag { background: #f0fdf4; color: #16a34a; border: 1px solid #dcfce7; padding: 4px 10px; border-radius: 8px; font-size: 11px; font-weight: 800; }

        .filter-select { background: white; border: 1px solid #e2e8f0; border-radius: 10px; padding: 8px 12px; font-size: 12px; font-weight: 700; outline: none; transition: all 0.2s; width: 100%; }

        .modal-bg { background: rgba(15, 23, 42, 0.7); backdrop-filter: blur(8px); }
        .copy-hint { cursor: pointer; transition: opacity 0.2s; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .copy-hint:active { opacity: 0.5; }
        
        .text-empty { color: #cbd5e1; font-style: italic; font-weight: 500; font-size: 0.85rem; }
        
        .custom-scroll::-webkit-scrollbar { width: 6px; }
        .custom-scroll::-webkit-scrollbar-track { background: transparent; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #e2e8f0; border-radius: 10px; }

        .quick-insert-btn { padding: 4px 8px; font-size: 10px; font-weight: 700; background: white; color: #64748b; border: 1px solid #e2e8f0; border-radius: 8px; transition: all 0.2s; white-space: nowrap; cursor: pointer; }
        .quick-insert-btn:hover { border-color: #3b82f6; color: #2563eb; background: #eff6ff; transform: translateY(-1px); }
        .quick-insert-btn.blue { color: #2563eb; border-color: #dbeafe; }
        .quick-insert-btn.green { color: #16a34a; border-color: #dcfce7; }
        .quick-insert-btn.amber { color: #d97706; border-color: #fef3c7; }
        .quick-insert-btn.red { color: #ef4444; border-color: #fee2e2; }

        .data-manage-btn { padding: 8px 16px; font-size: 12px; font-weight: 800; border-radius: 12px; transition: all 0.2s; display: inline-flex; align-items: center; gap: 6px; }
        
        /* å‚™è¨»å°ˆç”¨å¿«é€Ÿæ¨™ç±¤ */
        .note-quick-tag { 
            font-size: 10px; 
            padding: 3px 8px; 
            background: #f1f5f9; 
            color: #475569; 
            border-radius: 6px; 
            cursor: pointer; 
            transition: all 0.2s; 
            border: 1px solid transparent;
            font-weight: 600;
        }
        .note-quick-tag:hover { background: #e2e8f0; color: #1e293b; border-color: #cbd5e1; }
        .note-quick-tag:active { transform: scale(0.95); }
    </style>
</head>
<body class="p-3 md:p-6">

    <div class="max-w-7xl mx-auto">
        <header class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 md:mb-8 gap-4">
            <h1 class="text-2xl md:text-3xl font-black text-slate-900 italic tracking-tighter">CRM <span class="text-blue-600">PRO</span></h1>
            <div class="flex items-center gap-3 w-full md:w-auto">
                <div class="text-[10px] font-bold text-slate-400 bg-white px-3 py-1 rounded-full border border-slate-100 hidden lg:block">æ™ºæ…§å®¢ç®¡ç³»çµ± v3.6</div>
                <div class="flex gap-2 w-full md:w-auto">
                    <button onclick="exportToCSV()" class="flex-1 md:flex-none data-manage-btn bg-white text-slate-600 border border-slate-200 hover:bg-slate-50 justify-center">ğŸ“¤ åŒ¯å‡º CSV</button>
                    <label class="flex-1 md:flex-none data-manage-btn bg-slate-800 text-white cursor-pointer hover:bg-slate-900 justify-center">
                        ğŸ“¥ åŒ¯å…¥ CSV
                        <input type="file" id="importFile" accept=".csv" class="hidden" onchange="importFromCSV(this)">
                    </label>
                </div>
            </div>
        </header>

        <main class="grid grid-cols-1 lg:grid-cols-4 gap-6 md:gap-8">
            <!-- æ–°å¢/ç·¨è¼¯å€ (å´é‚Šæ¬„) -->
            <section class="card p-5 md:p-6 h-fit lg:col-span-1 lg:sticky lg:top-6">
                <div class="flex justify-between items-center mb-6">
                    <h2 id="formTitle" class="text-lg font-black text-slate-800">æ–°å¢è²·æ–¹</h2>
                    <button onclick="resetForm()" class="text-[10px] font-bold text-slate-400 hover:text-blue-500 underline">é‡è¨­</button>
                </div>
                <form id="mainForm" class="space-y-4">
                    <input type="hidden" id="editIndex" value="-1">
                    <div class="space-y-3">
                        <input type="text" id="inputName" placeholder="å§“å (ä¾‹: æ—å…ˆç”Ÿ /å°å§)" class="w-full bg-slate-50 border-none rounded-xl p-3.5 text-sm font-bold focus:ring-2 focus:ring-blue-500" required>
                        <div class="grid grid-cols-2 gap-2">
                            <input type="text" id="inputCode" placeholder="ç°¡ç¢¼ (ä¾‹: A01)" class="w-full bg-slate-50 border-none rounded-xl p-3.5 text-sm font-bold">
                            <select id="inputStatus" class="w-full bg-slate-50 border-none rounded-xl p-3.5 text-sm font-bold">
                                <option value="ç¶“ç‡Ÿä¸­">ğŸ”„ ç¶“ç‡Ÿä¸­</option>
                                <option value="Aè²·">ğŸŒŸ Aè²·</option>
                                <option value="å¤±è¯ä¸­">ğŸ“µ å¤±è¯ä¸­</option>
                                <option value="å¸¶çœ‹é">ğŸ‘€ å¸¶çœ‹é</option>
                                <option value="LINEå¥½å‹">ğŸ’¬ LINEå¥½å‹</option>
                                <option value="ä¸ç¶“ç‡Ÿ">â¹ï¸ ä¸ç¶“ç‡Ÿ</option>
                            </select>
                        </div>
                        <input type="text" id="inputPhone" placeholder="é›»è©±" class="w-full bg-slate-50 border-none rounded-xl p-3.5 text-sm font-bold">
                        <input type="text" id="inputLine" placeholder="LINE ID" class="w-full bg-slate-50 border-none rounded-xl p-3.5 text-sm font-bold">
                        <input type="text" id="inputAddress" placeholder="é€šè¨Šåœ°å€" class="w-full bg-slate-50 border-none rounded-xl p-3.5 text-sm font-bold">
                    </div>

                    <div class="p-4 bg-blue-50/50 rounded-2xl border border-blue-100 space-y-3">
                        <p class="text-[10px] font-black text-blue-500 uppercase italic">ğŸ“‹ è³¼å±‹éœ€æ±‚è©³æƒ…</p>
                        <div class="grid grid-cols-2 gap-2">
                            <select id="inputType" class="w-full bg-white rounded-lg p-2.5 text-[11px] font-bold shadow-sm">
                                <option value="é›»æ¢¯å¤§æ¨“">é›»æ¢¯å¤§æ¨“</option><option value="è¯å»ˆ">è¯å»ˆ</option><option value="å…¬å¯“">å…¬å¯“</option><option value="é€å¤©">é€å¤©</option><option value="åˆ¥å¢…">åˆ¥å¢…</option><option value="åº—é¢">åº—é¢</option>
                            </select>
                            <select id="inputParking" class="w-full bg-white rounded-lg p-2.5 text-[11px] font-bold shadow-sm">
                                <option value="è»Šä½ä¸é™">è»Šä½ä¸é™</option>
                                <option value="å¡é“å¹³é¢">å¡é“å¹³é¢</option>
                                <option value="å¡é“æ©Ÿæ¢°">å¡é“æ©Ÿæ¢°</option>
                                <option value="æ˜‡é™å¹³é¢">æ˜‡é™å¹³é¢</option>
                                <option value="æ˜‡é™æ©Ÿæ¢°">æ˜‡é™æ©Ÿæ¢°</option>
                                <option value="å¡”å¼è»Šä½">å¡”å¼è»Šä½</option>
                                <option value="ä¸éœ€è¦">ä¸éœ€è¦</option>
                            </select>
                            <input type="text" id="inputBudget" placeholder="é ç®—(è¬)" class="w-full bg-white rounded-lg p-2.5 text-[11px] font-bold shadow-sm text-center">
                            <input type="text" id="inputRoomRange" placeholder="æˆ¿/è¡› (3/2)" class="w-full bg-white rounded-lg p-2.5 text-[11px] font-bold shadow-sm text-center">
                            <input type="text" id="inputFloor" placeholder="æ¨“å±¤ 1-5" class="w-full bg-white rounded-lg p-2.5 text-[11px] font-bold shadow-sm text-center">
                            <input type="text" id="inputSize" placeholder="åªæ•¸ 25-45" class="w-full bg-white rounded-lg p-2.5 text-[11px] font-bold shadow-sm text-center">
                            <input type="text" id="inputAge" placeholder="å±‹é½¡ 10-20" class="w-full bg-white rounded-lg p-2.5 text-[11px] font-bold shadow-sm text-center">
                        </div>
                        <input type="text" id="inputArea" placeholder="å€åŸŸéœ€æ±‚ (ç©ºç™½åˆ†éš”)" class="w-full bg-white rounded-lg p-2.5 text-[11px] font-bold shadow-sm">
                        
                        <!-- å‚™è¨»èˆ‡å¿«é€Ÿæ¨™ç±¤ -->
                        <div class="space-y-2">
                            <textarea id="inputNote" rows="2" placeholder="å‚™è¨»æ¨™ç±¤ (ç©ºç™½åˆ†éš”)" class="w-full bg-white rounded-lg p-2.5 text-[11px] font-bold shadow-sm resize-none"></textarea>
                            <div class="flex flex-wrap gap-1">
                                <span class="note-quick-tag" onclick="insertQuickTag('éå‡¶å®…')">éå‡¶å®…</span>
                                <span class="note-quick-tag" onclick="insertQuickTag('æ ¼å±€æ–¹æ­£')">æ ¼å±€æ–¹æ­£</span>
                                <span class="note-quick-tag" onclick="insertQuickTag('é‚Šé–“')">é‚Šé–“</span>
                                <span class="note-quick-tag" onclick="insertQuickTag('å°å¤–çª—')">å°å¤–çª—</span>
                                <span class="note-quick-tag" onclick="insertQuickTag('å¤©ç„¶ç“¦æ–¯')">å¤©ç„¶ç“¦æ–¯</span>
                                <span class="note-quick-tag" onclick="insertQuickTag('ç„¡æš—æˆ¿')">ç„¡æš—æˆ¿</span>
                                <span class="note-quick-tag" onclick="insertQuickTag('ç„¡æ¼æ°´å£ç™Œ')">ç„¡æ¼æ°´å£ç™Œ</span>
                                <span class="note-quick-tag" onclick="insertQuickTag('æ’é™¤é ‚æ¨“')">æ’é™¤é ‚æ¨“</span>
                                <span class="note-quick-tag" onclick="insertQuickTag('æ’é™¤å¤¾å±¤')">æ’é™¤å¤¾å±¤</span>
                                <span class="note-quick-tag" onclick="insertQuickTag('ä¸€æ¨“å¥½åœ')">ä¸€æ¨“å¥½åœ</span>
                                <span class="note-quick-tag" onclick="insertQuickTag('ç„¡éšœç¤™')">ç„¡éšœç¤™</span>
                                <span class="note-quick-tag" onclick="insertQuickTag('é ‚æ¨“åŠ è“‹')">é ‚æ¨“åŠ è“‹</span>
                                <span class="note-quick-tag" onclick="insertQuickTag('æ”¶ç§Ÿå±‹')">æ”¶ç§Ÿå±‹</span>
                                <span class="note-quick-tag" onclick="insertQuickTag('ç¥æ˜å»³')">ç¥æ˜å»³</span>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="w-full btn-primary text-white font-black py-4 rounded-xl shadow-lg mt-2">å„²å­˜å®¢æˆ¶è³‡æ–™</button>
                </form>
            </section>

            <!-- åˆ—è¡¨å€ -->
            <section class="lg:col-span-3 space-y-4">
                <div class="card p-4 md:p-5 space-y-4">
                    <div class="relative group">
                        <span class="absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-500 transition-colors">ğŸ”</span>
                        <input type="text" id="searchInput" oninput="render()" placeholder="æœå°‹å§“åã€é›»è©±ã€å€åŸŸæˆ–ç­†è¨˜..." class="w-full pl-12 pr-6 py-3.5 rounded-xl border-none bg-slate-50 text-sm focus:ring-2 focus:ring-blue-500 outline-none">
                    </div>
                    <!-- ç¯©é¸å™¨ -->
                    <div class="grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-8 gap-2 md:gap-3">
                        <div class="flex flex-col gap-1">
                            <label class="text-[10px] font-black text-slate-400 pl-1 uppercase">ç‹€æ…‹</label>
                            <select id="filterStatus" onchange="render()" class="filter-select"><option value="å…¨éƒ¨">å…¨éƒ¨</option><option value="ç¶“ç‡Ÿä¸­">ç¶“ç‡Ÿä¸­</option><option value="Aè²·">Aè²·</option><option value="å¤±è¯ä¸­">å¤±è¯ä¸­</option><option value="å¸¶çœ‹é">å¸¶çœ‹é</option><option value="LINEå¥½å‹">LINEå¥½å‹</option><option value="ä¸ç¶“ç‡Ÿ">ä¸ç¶“ç‡Ÿ</option></select>
                        </div>
                        <div class="flex flex-col gap-1">
                            <label class="text-[10px] font-black text-slate-400 pl-1 uppercase">é¡å‹</label>
                            <select id="filterType" onchange="render()" class="filter-select"><option value="å…¨éƒ¨">å…¨éƒ¨</option><option value="é›»æ¢¯å¤§æ¨“">å¤§æ¨“</option><option value="è¯å»ˆ">è¯å»ˆ</option><option value="å…¬å¯“">å…¬å¯“</option><option value="é€å¤©">é€å¤©</option><option value="åˆ¥å¢…">åˆ¥å¢…</option><option value="åº—é¢">åº—é¢</option></select>
                        </div>
                        <div class="flex flex-col gap-1">
                            <label class="text-[10px] font-black text-slate-400 pl-1 uppercase">é ç®—</label>
                            <select id="filterBudget" onchange="render()" class="filter-select"><option value="ä¸é™">ä¸é™</option><option value="1000â†“">1000â†“</option><option value="1000-2500">1K-2.5K</option><option value="2500-5000">2.5K-5K</option><option value="5000â†‘">5000â†‘</option></select>
                        </div>
                        <div class="flex flex-col gap-1">
                            <label class="text-[10px] font-black text-slate-400 pl-1 uppercase">æˆ¿æ•¸</label>
                            <select id="filterRoom" onchange="render()" class="filter-select"><option value="ä¸é™">ä¸é™</option><option value="1">1æˆ¿</option><option value="2">2æˆ¿</option><option value="3">3æˆ¿</option><option value="4">4æˆ¿+</option></select>
                        </div>
                        <div class="flex flex-col gap-1">
                            <label class="text-[10px] font-black text-slate-400 pl-1 uppercase">æ¨“å±¤</label>
                            <select id="filterFloor" onchange="render()" class="filter-select"><option value="ä¸é™">ä¸é™</option><option value="1-5">1-5F</option><option value="6-12">6-12F</option><option value="13">13F+</option></select>
                        </div>
                        <div class="flex flex-col gap-1">
                            <label class="text-[10px] font-black text-slate-400 pl-1 uppercase">å±‹é½¡</label>
                            <select id="filterAge" onchange="render()" class="filter-select"><option value="ä¸é™">ä¸é™</option><option value="5">5å¹´å…§</option><option value="5-15">5-15å¹´</option><option value="15-30">15-30å¹´</option><option value="30">30å¹´+</option></select>
                        </div>
                        <div class="flex flex-col gap-1">
                            <label class="text-[10px] font-black text-slate-400 pl-1 uppercase">åªæ•¸</label>
                            <select id="filterSize" onchange="render()" class="filter-select"><option value="ä¸é™">ä¸é™</option><option value="25â†“">25â†“</option><option value="25-45">25-45</option><option value="45-65">45-65</option><option value="65â†‘">65â†‘</option></select>
                        </div>
                        <div class="flex flex-col gap-1">
                            <label class="text-[10px] font-black text-slate-400 pl-1 uppercase">è»Šä½</label>
                            <select id="filterParking" onchange="render()" class="filter-select"><option value="ä¸é™">ä¸é™</option><option value="å¡é“å¹³é¢">å¹³è»Š</option><option value="å¡é“æ©Ÿæ¢°">å¡æ©Ÿ</option><option value="å…¶ä»–">å…¶ä»–</option></select>
                        </div>
                    </div>
                </div>

                <div id="dataList" class="space-y-4"></div>
            </section>
        </main>
    </div>

    <!-- å½ˆçª— (æ—¥èªŒèˆ‡ç­†è¨˜) -->
    <div id="logModal" class="fixed inset-0 z-[60] hidden modal-bg flex items-center justify-center p-2 md:p-4">
        <div class="card w-full max-w-5xl bg-white p-4 md:p-6 h-[95vh] flex flex-col shadow-2xl overflow-hidden">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl md:text-2xl font-black text-slate-800" id="logModalTitle">ç¶“ç‡Ÿèˆ‡æ—¥èªŒ</h3>
                <button onclick="closeLogModal()" class="text-3xl text-slate-400 hover:text-red-500 px-2">&times;</button>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-10 gap-4 mb-4">
                <!-- ç¶“ç‡Ÿç­†è¨˜ -->
                <div class="flex flex-col h-[220px] bg-amber-50/50 p-3 rounded-2xl border border-amber-100 md:col-span-5">
                    <div class="flex items-center justify-between mb-2">
                        <label class="text-[10px] font-black text-amber-600 uppercase flex items-center gap-1">â­ ç‰¹è³ªèˆ‡ç­†è¨˜</label>
                        <button onclick="updateAdminNoteInModal()" class="px-2 py-1 bg-amber-500 text-white rounded-lg text-[9px] font-black shadow-sm">å„²å­˜ç­†è¨˜</button>
                    </div>
                    <textarea id="modalAdminNote" class="w-full flex-1 bg-white border border-amber-200 rounded-xl p-2 text-xs font-bold outline-none resize-none custom-scroll" placeholder="è¨˜éŒ„å€‹æ€§åå¥½ã€ç‰¹æ®Šå¿Œè«±..."></textarea>
                    <div class="flex flex-wrap gap-1 mt-2">
                        <button onclick="insertQuick('modalAdminNote', 'ğŸ“ æ™šé»å†æ‰“')" class="quick-insert-btn">æ™šé»å†æ‰“</button>
                        <button onclick="insertQuick('modalAdminNote', 'ğŸ“… éš”æ—¥å†æ‰“')" class="quick-insert-btn">éš”æ—¥å†æ‰“</button>
                        <button onclick="insertQuick('modalAdminNote', 'ğŸŒ± æŒçºŒç¶“ç‡Ÿ')" class="quick-insert-btn green">æŒçºŒç¶“ç‡Ÿ</button>
                        <button onclick="insertQuick('modalAdminNote', 'ğŸ” éœ€æ±‚æ¢ç´¢')" class="quick-insert-btn blue">éœ€æ±‚æ¢ç´¢</button>
                        <button onclick="insertQuick('modalAdminNote', 'â¹ï¸ ä¸è²·äº†')" class="quick-insert-btn red">ä¸è²·äº†</button>
                        <button onclick="insertQuick('modalAdminNote', 'ğŸ”‡ æ²’éœ€æ±‚')" class="quick-insert-btn">æ²’éœ€æ±‚</button>
                    </div>
                </div>
                <!-- æ¥æ´½å…§å®¹ -->
                <div class="flex flex-col h-[220px] bg-emerald-50/50 p-3 rounded-2xl border border-emerald-100 md:col-span-5">
                    <div class="flex items-center justify-between mb-2">
                        <div class="flex items-center gap-2">
                            <label class="text-[10px] font-black text-emerald-600 uppercase" id="logFormTitle">âœï¸ æ–°å¢æ¥æ´½ç´€éŒ„</label>
                            <input type="date" id="logDate" class="text-[9px] font-bold bg-white border-emerald-200 rounded-lg px-2 py-1 outline-none">
                        </div>
                        <button onclick="saveNewLog()" id="btnSaveLog" class="px-3 py-1 bg-emerald-600 text-white rounded-lg text-[10px] font-black shadow-sm">å„²å­˜æ—¥èªŒ</button>
                    </div>
                    <textarea id="newLogContent" class="w-full flex-1 bg-white border border-emerald-200 rounded-xl p-2 text-xs font-bold outline-none resize-none custom-scroll" placeholder="è«‡è©±å…§å®¹ã€çœ‹å±‹åé¥‹..."></textarea>
                    <input type="hidden" id="editingLogId" value="">
                    <div class="flex flex-wrap gap-1 mt-2">
                        <button onclick="insertQuick('newLogContent', 'ğŸ“ æœªæ¥é›»è©±')" class="quick-insert-btn">æœªæ¥é›»è©±</button>
                        <button onclick="insertQuick('newLogContent', 'ğŸ“µ ç›´æ›é›»è©±')" class="quick-insert-btn">ç›´æ›é›»è©±</button>
                        <button onclick="insertQuick('newLogContent', 'ğŸ“  èªéŸ³ä¿¡ç®±')" class="quick-insert-btn">èªéŸ³ä¿¡ç®±</button>
                        <button onclick="insertQuick('newLogContent', 'ğŸ“µ é›»è©±è¶…è¯')" class="quick-insert-btn red">é›»è©±è¶…è¯</button>
                        <button onclick="insertQuick('newLogContent', 'ğŸ  é ç´„å¸¶çœ‹')" class="quick-insert-btn blue">é ç´„å¸¶çœ‹</button>
                        <button onclick="insertQuick('newLogContent', 'ğŸ‰ è²·åˆ°äº†')" class="quick-insert-btn amber">è²·åˆ°äº†</button>
                        <button onclick="insertQuick('newLogContent', 'â¹ï¸ æ²’éœ€æ±‚')" class="quick-insert-btn">æ²’éœ€æ±‚</button>
                    </div>
                </div>
            </div>
            
            <div class="flex-1 overflow-hidden flex flex-col bg-slate-50 p-4 rounded-3xl border border-slate-200 max-w-4xl mx-auto w-full">
                <label class="text-[10px] font-black text-slate-400 mb-2 uppercase tracking-widest italic">ğŸ“‹ æ­·å²æ¥æ´½æ¸…å–® (é»æ“Šç´€éŒ„å¯ç·¨è¼¯)</label>
                <div class="flex-1 overflow-y-auto custom-scroll space-y-2 pr-1" id="logHistoryList"></div>
            </div>
        </div>
    </div>

    <div id="toast" class="fixed bottom-10 left-1/2 -translate-x-1/2 bg-slate-900 text-white px-8 py-3 rounded-2xl hidden z-[100] text-xs font-black shadow-2xl"></div>

    <script>
        // ç‰ˆæœ¬æ§åˆ¶
        const STORAGE_KEY = 'crm_buyers_v3_6';
        let buyers = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
        let currentClientIndex = -1;

        const statusOptions = ['ç¶“ç‡Ÿä¸­', 'Aè²·', 'å¤±è¯ä¸­', 'å¸¶çœ‹é', 'LINEå¥½å‹', 'ä¸ç¶“ç‡Ÿ'];
        const statusColors = {
            'ç¶“ç‡Ÿä¸­': 'bg-blue-100 text-blue-600',
            'Aè²·': 'bg-emerald-100 text-emerald-600',
            'å¤±è¯ä¸­': 'bg-slate-100 text-slate-400',
            'å¸¶çœ‹é': 'bg-orange-100 text-orange-600',
            'LINEå¥½å‹': 'bg-green-100 text-green-600',
            'ä¸ç¶“ç‡Ÿ': 'bg-slate-800 text-white'
        };

        // --- è³‡æ–™ç®¡ç†åŠŸèƒ½ ---

        function exportToCSV() {
            if (buyers.length === 0) {
                showToast('âš ï¸ ç›®å‰æ²’æœ‰å®¢æˆ¶è³‡æ–™å¯ä¾›åŒ¯å‡º');
                return;
            }
            const headers = ['å§“å', 'ç°¡ç¢¼', 'é›»è©±', 'LINE_ID', 'åœ°å€', 'ç‹€æ…‹', 'é ç®—', 'æˆ¿å±‹é¡å‹', 'è»Šä½', 'æˆ¿è¡›éœ€æ±‚', 'æ¨“å±¤', 'åªæ•¸', 'å±‹é½¡', 'éœ€æ±‚å€åŸŸ', 'å‚™è¨»æ¨™ç±¤', 'ç‰¹è³ªç­†è¨˜', 'æ¥æ´½ç´€éŒ„', 'å»ºç«‹æ—¥æœŸ'];
            const rows = buyers.map(b => {
                const logStr = (b.logs || []).map(l => `[${l.timestamp}] ${l.content}`).join(' | ');
                return [b.name, b.code, b.phone, b.line, b.address, b.status, b.budget, b.type, b.parking, b.roomRange, b.floor, b.size, b.age, b.area, b.note, b.adminNote, logStr, b.createdAt].map(val => `"${(val || '').toString().replace(/"/g, '""')}"`).join(',');
            });
            const csvContent = "\ufeff" + headers.join(',') + "\n" + rows.join('\n');
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement("a");
            link.href = URL.createObjectURL(blob);
            link.download = `CRM_Export_${new Date().toISOString().split('T')[0]}.csv`;
            link.click();
            showToast('âœ… åŒ¯å‡ºå®Œæˆ');
        }

        function importFromCSV(input) {
            const file = input.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = function(e) {
                const text = e.target.result;
                const lines = text.split(/\r?\n/);
                if (lines.length < 2) return;
                const importedData = [];
                for (let i = 1; i < lines.length; i++) {
                    if (!lines[i].trim()) continue;
                    const values = []; let current = ''; let inQuotes = false;
                    for (let char of lines[i]) {
                        if (char === '"' && !inQuotes) inQuotes = true;
                        else if (char === '"' && inQuotes) inQuotes = false;
                        else if (char === ',' && !inQuotes) { values.push(current); current = ''; }
                        else current += char;
                    }
                    values.push(current);
                    const getVal = (idx) => (values[idx] || '').replace(/^"|"$/g, '').trim();
                    const b = {
                        name: getVal(0), code: getVal(1), phone: getVal(2), line: getVal(3), address: getVal(4), status: getVal(5) || 'ç¶“ç‡Ÿä¸­',
                        budget: getVal(6), type: getVal(7), parking: getVal(8), roomRange: getVal(9), floor: getVal(10), size: getVal(11),
                        age: getVal(12), area: getVal(13), note: getVal(14), adminNote: getVal(15), createdAt: getVal(17) || new Date().toLocaleDateString()
                    };
                    const logRaw = getVal(16);
                    b.logs = logRaw ? logRaw.split(' | ').map(entry => {
                        const match = entry.match(/^\[(.*?)\] (.*)$/);
                        return match ? { id: Date.now() + Math.random(), timestamp: match[1], content: match[2] } : null;
                    }).filter(v => v) : [];
                    if (b.name) importedData.push(b);
                }
                if (importedData.length > 0) {
                    if (confirm(`åŒ¯å…¥ ${importedData.length} ä½å®¢æˆ¶ï¼Œæ˜¯å¦è¦†è“‹ç¾æœ‰è³‡æ–™ï¼Ÿ`)) buyers = importedData;
                    else buyers = [...buyers, ...importedData];
                    save(); render(); showToast(`âœ… åŒ¯å…¥å®Œæˆ`);
                }
                input.value = '';
            };
            reader.readAsText(file);
        }

        // --- æ ¸å¿ƒé‚è¼¯ ---

        function parseRange(str) {
            if (!str) return null;
            const parts = str.toString().split(/[-~ ]+/).map(p => parseFloat(p)).filter(p => !isNaN(p));
            if (parts.length === 0) return null;
            if (parts.length === 1) return { min: parts[0], max: parts[0] };
            return { min: Math.min(...parts), max: Math.max(...parts) };
        }

        function checkOverlap(valStr, minBound, maxBound) {
            const range = parseRange(valStr);
            if (!range) return false;
            const checkMin = minBound === null ? -Infinity : minBound;
            const checkMax = maxBound === null ? Infinity : maxBound;
            return range.min <= checkMax && range.max >= checkMin;
        }

        function copy(text, label) {
            if (!text) return;
            const temp = document.createElement('textarea');
            temp.value = text;
            document.body.appendChild(temp);
            temp.select();
            document.execCommand('copy');
            document.body.removeChild(temp);
            showToast(`ğŸ“‹ å·²è¤‡è£½ ${label}`);
        }

        function openMap(query) {
            if (!query) return;
            window.open(`https://www.google.com/maps/search/${encodeURIComponent(query)}`, '_blank');
        }

        function formatRoom(val) {
            if (!val) return '0æˆ¿0è¡›';
            let parts = val.toString().split(/[/ï¼]/);
            return `${parts[0] || '0'}æˆ¿${parts[1] || '0'}è¡›`;
        }

        function getGenderClass(name) {
            if (name.includes('å°å§')) return 'border-female';
            if (name.includes('å…ˆç”Ÿ')) return 'border-male';
            return 'border-other';
        }

        function d(v) { return (v && v.trim() !== '') ? v : '<span class="text-empty">(æœªå¡«)</span>'; }

        function updateQuickStatus(idx, newStatus) {
            buyers[idx].status = newStatus;
            save(); render();
            showToast(`ğŸ“ ç‹€æ…‹è®Šæ›´ï¼š${newStatus}`);
        }

        function insertQuick(id, text) {
            const area = document.getElementById(id);
            const start = area.selectionStart;
            const end = area.selectionEnd;
            const val = area.value;
            const space = (val.length > 0 && val[start-1] !== ' ' && val[start-1] !== '\n') ? ' ' : '';
            area.value = val.substring(0, start) + space + text + val.substring(end);
            area.focus();
            const newPos = start + space.length + text.length;
            area.setSelectionRange(newPos, newPos);
        }

        // æ–°å¢å‚™è¨»å¿«é€Ÿæ¨™ç±¤é‚è¼¯
        function insertQuickTag(tag) {
            const area = document.getElementById('inputNote');
            let val = area.value.trim();
            if (val.includes(tag)) return; // é¿å…é‡è¤‡
            area.value = val + (val === '' ? '' : ' ') + tag;
            area.focus();
        }

        function render() {
            const container = document.getElementById('dataList');
            const kw = document.getElementById('searchInput').value.toLowerCase();
            const fStatus = document.getElementById('filterStatus').value;
            const fType = document.getElementById('filterType').value;
            const fBudget = document.getElementById('filterBudget').value;
            const fRoom = document.getElementById('filterRoom').value;
            const fFloor = document.getElementById('filterFloor').value;
            const fAge = document.getElementById('filterAge').value;
            const fSize = document.getElementById('filterSize').value;
            const fParking = document.getElementById('filterParking').value;

            const filtered = buyers.filter(b => {
                const logMatch = b.logs?.some(l => l.content.toLowerCase().includes(kw));
                const adminMatch = b.adminNote?.toLowerCase().includes(kw);
                const textMatch = `${b.name}${b.phone}${b.area}${b.note}${b.address}${b.line}`.toLowerCase().includes(kw);
                if (!textMatch && !logMatch && !adminMatch) return false;
                if (fStatus !== 'å…¨éƒ¨' && b.status !== fStatus) return false;
                if (fType !== 'å…¨éƒ¨' && b.type !== fType) return false;
                if (fBudget !== 'ä¸é™') {
                    if (fBudget === '1000â†“' && !checkOverlap(b.budget, 0, 1000)) return false;
                    if (fBudget === '1000-2500' && !checkOverlap(b.budget, 1000, 2500)) return false;
                    if (fBudget === '2500-5000' && !checkOverlap(b.budget, 2500, 5000)) return false;
                    if (fBudget === '5000â†‘' && !checkOverlap(b.budget, 5000, 99999)) return false;
                }
                if (fRoom !== 'ä¸é™') {
                    const rooms = parseInt(b.roomRange?.toString().split(/[/ï¼]/)[0]) || 0;
                    if (fRoom === '4' && rooms < 4) return false;
                    if (fRoom !== '4' && rooms != parseInt(fRoom)) return false;
                }
                if (fFloor !== 'ä¸é™') {
                    if (fFloor === '1-5' && !checkOverlap(b.floor, 1, 5)) return false;
                    if (fFloor === '6-12' && !checkOverlap(b.floor, 6, 12)) return false;
                    if (fFloor === '13' && !checkOverlap(b.floor, 13, 999)) return false;
                }
                if (fAge !== 'ä¸é™') {
                    if (fAge === '5' && !checkOverlap(b.age, 0, 5)) return false;
                    if (fAge === '5-15' && !checkOverlap(b.age, 5, 15)) return false;
                    if (fAge === '15-30' && !checkOverlap(b.age, 15, 30)) return false;
                    if (fAge === '30' && !checkOverlap(b.age, 30, 999)) return false;
                }
                if (fSize !== 'ä¸é™') {
                    if (fSize === '25â†“' && !checkOverlap(b.size, 0, 25)) return false;
                    if (fSize === '25-45' && !checkOverlap(b.size, 25, 45)) return false;
                    if (fSize === '45-65' && !checkOverlap(b.size, 45, 65)) return false;
                    if (fSize === '65â†‘' && !checkOverlap(b.size, 65, 9999)) return false;
                }
                if (fParking !== 'ä¸é™' && fParking !== 'å…¶ä»–') {
                    if (b.parking !== fParking) return false;
                } else if (fParking === 'å…¶ä»–') {
                    if (['å¡é“å¹³é¢', 'å¡é“æ©Ÿæ¢°'].includes(b.parking)) return false;
                }
                return true;
            });

            container.innerHTML = filtered.map(b => {
                const idx = buyers.indexOf(b);
                const genderClass = getGenderClass(b.name);
                const areaTags = b.area ? b.area.split(/\s+/).filter(t => t) : [];
                const noteTags = b.note ? b.note.split(/\s+/).filter(t => t) : [];
                const latestLog = b.logs && b.logs.length > 0 ? b.logs[0] : null;

                return `
                    <div class="card p-5 md:p-6 ${genderClass} relative overflow-hidden transition-all duration-300">
                        <div class="absolute top-5 right-5 flex items-center">
                            <span class="bg-blue-600 text-white text-[10px] md:text-xs font-black px-3 py-1.5 rounded-full shadow-lg">ğŸ’° ${b.budget || '0'}è¬</span>
                        </div>
                        <div class="flex flex-wrap items-center gap-x-4 gap-y-3 mb-4 pr-16 md:pr-24">
                            <div class="flex items-center gap-2">
                                <span onclick="copy('${b.code}', 'ç°¡ç¢¼')" class="bg-slate-800 text-white text-[9px] px-2 py-0.5 rounded-full font-black cursor-pointer hover:bg-blue-600 shrink-0">${b.code || 'NO'}</span>
                                <h3 onclick="copy('${b.name}', 'å§“å')" class="text-lg md:text-xl font-black text-slate-900 shrink-0 cursor-pointer hover:text-blue-600 transition-colors">${b.name}</h3>
                            </div>
                            <div class="relative shrink-0">
                                <select onchange="updateQuickStatus(${idx}, this.value)" class="status-select ${statusColors[b.status]}">
                                    ${statusOptions.map(opt => `<option value="${opt}" ${b.status === opt ? 'selected' : ''}>${opt}</option>`).join('')}
                                </select>
                            </div>
                            <div class="flex flex-wrap gap-x-3 gap-y-1 text-xs font-bold text-slate-500 w-full md:w-auto mt-1 md:mt-0">
                                <span onclick="copy('${b.phone}', 'é›»è©±')" class="copy-hint flex items-center gap-1 hover:text-blue-500"><span class="text-blue-500">ğŸ“</span> ${d(b.phone)}</span>
                                <span onclick="copy('${b.line}', 'LINE')" class="copy-hint flex items-center gap-1 hover:text-green-500"><span class="text-green-500">ğŸ’¬</span> ${d(b.line)}</span>
                                <span onclick="openMap('${b.address}')" class="copy-hint flex items-center gap-1 hover:text-red-500 max-w-full overflow-hidden text-ellipsis"><span class="text-red-500">ğŸ“</span> ${d(b.address)}</span>
                            </div>
                        </div>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="info-pill">ğŸ  ${b.type || 'æˆ¿å±‹'}</span><span class="info-pill">ğŸ›ï¸ ${formatRoom(b.roomRange)}</span><span class="info-pill">ğŸ“ ${b.size || '0'}åª</span><span class="info-pill">ğŸ¢ ${b.floor || '0'}æ¨“</span><span class="info-pill">ğŸš— ${b.parking || 'è»Šä½'}</span><span class="info-pill">âŒ› ${b.age || '0'}å¹´</span>
                        </div>
                        <div class="flex flex-wrap items-center gap-1.5 mb-4">
                            ${areaTags.map(t => `<span onclick="openMap('${t}')" class="area-tag">ğŸ—ºï¸ ${t}</span>`).join('')}
                            ${noteTags.map(t => `<span class="note-tag"># ${t}</span>`).join('')}
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-2 mb-5">
                            ${b.adminNote ? `<div onclick="openLogModal(${idx})" class="bg-amber-50/50 p-2.5 rounded-xl border border-amber-200 text-[10px] md:text-[11px] font-bold text-slate-600 italic line-clamp-2 cursor-pointer">â­ ç­†è¨˜: ${b.adminNote}</div>` : ''}
                            ${latestLog ? `<div onclick="openLogModal(${idx})" class="bg-emerald-50/50 p-2.5 rounded-xl border border-emerald-100 text-[10px] md:text-[11px] font-bold text-slate-600 line-clamp-2 cursor-pointer">ğŸ“… ${latestLog.timestamp}: ${latestLog.content}</div>` : ''}
                        </div>
                        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 pt-4 border-t border-slate-50">
                            <span class="text-[8px] md:text-[9px] font-bold text-slate-300 uppercase tracking-widest italic order-2 sm:order-1">SINCE: ${b.createdAt || '-'}</span>
                            <div class="flex flex-wrap gap-2 w-full sm:w-auto order-1 sm:order-2">
                                <button onclick="editItem(${idx})" class="flex-1 sm:flex-none px-4 py-2.5 bg-blue-50 text-blue-700 rounded-xl text-xs font-black hover:bg-blue-100 border border-blue-100">ç·¨è¼¯éœ€æ±‚</button>
                                <button onclick="openLogModal(${idx})" class="flex-1 sm:flex-none px-4 py-2.5 bg-blue-600 text-white rounded-xl text-xs font-black shadow-md hover:bg-blue-700">å°è©±ç´€éŒ„</button>
                                <button onclick="deleteBuyer(${idx})" class="px-3 py-2.5 bg-slate-50 text-slate-400 rounded-xl text-xs font-bold hover:bg-red-50 hover:text-red-400">åˆªé™¤</button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('') || '<div class="card p-12 text-center text-slate-400 font-bold italic">æ‰¾ä¸åˆ°ç¬¦åˆæ¢ä»¶çš„å®¢æˆ¶</div>';
        }

        document.getElementById('mainForm').onsubmit = function(e) {
            e.preventDefault();
            const idx = parseInt(document.getElementById('editIndex').value);
            const data = {
                name: document.getElementById('inputName').value,
                code: document.getElementById('inputCode').value,
                phone: document.getElementById('inputPhone').value,
                line: document.getElementById('inputLine').value,
                address: document.getElementById('inputAddress').value,
                status: document.getElementById('inputStatus').value,
                budget: document.getElementById('inputBudget').value,
                type: document.getElementById('inputType').value,
                parking: document.getElementById('inputParking').value,
                roomRange: document.getElementById('inputRoomRange').value,
                floor: document.getElementById('inputFloor').value,
                size: document.getElementById('inputSize').value,
                age: document.getElementById('inputAge').value,
                area: document.getElementById('inputArea').value,
                note: document.getElementById('inputNote').value,
                createdAt: idx === -1 ? new Date().toLocaleDateString() : buyers[idx].createdAt,
                adminNote: idx === -1 ? '' : (buyers[idx].adminNote || ''),
                logs: idx === -1 ? [] : (buyers[idx].logs || [])
            };
            if (idx === -1) buyers.unshift(data); else buyers[idx] = data;
            save(); resetForm(); render(); showToast('âœ… å„²å­˜æˆåŠŸ');
        };

        function deleteBuyer(idx) { if(confirm('ç¢ºå®šè¦æ°¸ä¹…åˆªé™¤æ­¤å®¢æˆ¶å—ï¼Ÿ')) { buyers.splice(idx, 1); save(); render(); } }

        function openLogModal(idx) {
            currentClientIndex = idx; const b = buyers[idx];
            document.getElementById('logModalTitle').innerText = `${b.name} - ç¶“ç‡Ÿè©³æƒ…`;
            document.getElementById('modalAdminNote').value = b.adminNote || '';
            document.getElementById('logModal').classList.remove('hidden');
            document.body.style.overflow = 'hidden'; 
            resetLogForm(); renderLogs();
        }

        function closeLogModal() { document.getElementById('logModal').classList.add('hidden'); document.body.style.overflow = 'auto'; }
        
        function saveNewLog() {
            const content = document.getElementById('newLogContent').value.trim();
            const logDateVal = document.getElementById('logDate').value;
            const logId = document.getElementById('editingLogId').value;
            if(!content) return;
            const logs = buyers[currentClientIndex].logs || [];
            if (logId) {
                const idx = logs.findIndex(l => l.id == logId);
                if (idx !== -1) { logs[idx].content = content; logs[idx].timestamp = logDateVal; }
            } else {
                logs.unshift({ id: Date.now() + Math.random(), timestamp: logDateVal, content });
            }
            logs.sort((a,b) => new Date(b.timestamp) - new Date(a.timestamp));
            buyers[currentClientIndex].logs = logs;
            save(); renderLogs(); resetLogForm(); render(); showToast('âœ… æ—¥èªŒå·²å„²å­˜');
        }

        function renderLogs() {
            const list = document.getElementById('logHistoryList');
            const logs = buyers[currentClientIndex].logs || [];
            list.innerHTML = logs.map(l => `
                <div class="p-3 bg-white rounded-xl border border-slate-100 flex flex-col md:flex-row gap-2 md:gap-4 items-start shadow-sm w-full group hover:border-blue-200 transition-colors cursor-pointer" onclick="editLog(${l.id})">
                    <div class="min-w-[85px] text-[10px] font-black text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg text-center">${l.timestamp}</div>
                    <div class="flex-1 text-[13px] font-bold text-slate-700 whitespace-pre-wrap leading-relaxed">${l.content}</div>
                    <div class="flex gap-1 w-full md:w-auto mt-2 md:mt-0 md:opacity-0 group-hover:opacity-100 transition-opacity">
                        <button onclick="event.stopPropagation(); editLog(${l.id})" class="px-3 py-1.5 bg-blue-50 text-blue-600 rounded-lg text-[9px] font-black">ç·¨è¼¯</button>
                        <button onclick="event.stopPropagation(); deleteLog(${l.id})" class="px-3 py-1.5 bg-red-50 text-red-400 rounded-lg text-[9px] font-black">åˆªé™¤</button>
                    </div>
                </div>
            `).join('') || '<div class="text-center text-slate-300 py-10 font-bold italic">å°šç„¡æ­·å²ç´€éŒ„</div>';
        }

        function deleteLog(logId) { if(confirm('åˆªé™¤ç´€éŒ„ï¼Ÿ')) { buyers[currentClientIndex].logs = buyers[currentClientIndex].logs.filter(l => l.id != logId); save(); renderLogs(); render(); } }

        function editLog(logId) {
            const log = buyers[currentClientIndex].logs.find(l => l.id == logId);
            if(log) {
                document.getElementById('newLogContent').value = log.content;
                document.getElementById('logDate').value = log.timestamp;
                document.getElementById('editingLogId').value = log.id;
                document.getElementById('logFormTitle').innerText = 'ğŸ“ ä¿®æ”¹ç´€éŒ„';
                document.getElementById('btnSaveLog').innerText = 'æ›´æ–°';
                document.getElementById('newLogContent').focus();
            }
        }

        function updateAdminNoteInModal() {
            buyers[currentClientIndex].adminNote = document.getElementById('modalAdminNote').value;
            save(); render(); showToast('â­ ç­†è¨˜å·²å„²å­˜');
        }

        function editItem(idx) {
            const b = buyers[idx];
            document.getElementById('editIndex').value = idx;
            document.getElementById('inputName').value = b.name;
            document.getElementById('inputCode').value = b.code || '';
            document.getElementById('inputPhone').value = b.phone || '';
            document.getElementById('inputLine').value = b.line || '';
            document.getElementById('inputAddress').value = b.address || '';
            document.getElementById('inputStatus').value = b.status;
            document.getElementById('inputBudget').value = b.budget || '';
            document.getElementById('inputType').value = b.type || 'é›»æ¢¯å¤§æ¨“';
            document.getElementById('inputParking').value = b.parking || 'è»Šä½ä¸é™';
            document.getElementById('inputRoomRange').value = b.roomRange || '';
            document.getElementById('inputFloor').value = b.floor || '';
            document.getElementById('inputSize').value = b.size || '';
            document.getElementById('inputAge').value = b.age || '';
            document.getElementById('inputArea').value = b.area || '';
            document.getElementById('inputNote').value = b.note || '';
            document.getElementById('formTitle').innerText = 'ğŸ“ ç·¨è¼¯å®¢æˆ¶éœ€æ±‚';
            window.scrollTo({ top: 0, behavior: 'smooth' });
            document.getElementById('inputName').focus();
        }

        function resetForm() { document.getElementById('mainForm').reset(); document.getElementById('editIndex').value = "-1"; document.getElementById('formTitle').innerText = 'æ–°å¢è²·æ–¹'; }
        function resetLogForm() { document.getElementById('newLogContent').value = ''; document.getElementById('logDate').valueAsDate = new Date(); document.getElementById('editingLogId').value = ''; document.getElementById('logFormTitle').innerText = 'âœï¸ æ–°å¢ç´€éŒ„'; document.getElementById('btnSaveLog').innerText = 'å„²å­˜æ—¥èªŒ'; }
        function save() { localStorage.setItem(STORAGE_KEY, JSON.stringify(buyers)); }
        function showToast(m) { const t = document.getElementById('toast'); t.innerHTML = m; t.classList.remove('hidden'); setTimeout(() => t.classList.add('hidden'), 2000); }

        window.onload = render;
    </script>
</body>
</html>
